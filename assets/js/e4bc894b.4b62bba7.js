"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[206],{3441:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"Documenta\xe7\xf5es de Desenvolvimento/testes-e-seguranca","title":"\ud83d\udd12 Seguran\xe7a e Testes","description":"\ud83d\udccb Seguran\xe7a Implementada","source":"@site/docs/Documenta\xe7\xf5es de Desenvolvimento/testes-e-seguranca.md","sourceDirName":"Documenta\xe7\xf5es de Desenvolvimento","slug":"/Documenta\xe7\xf5es de Desenvolvimento/testes-e-seguranca","permalink":"/chatbot-contabilizei/docs/Documenta\xe7\xf5es de Desenvolvimento/testes-e-seguranca","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Deploy para Google Cloud Run","permalink":"/chatbot-contabilizei/docs/Documenta\xe7\xf5es de Desenvolvimento/deploy"},"next":{"title":"\ud83d\udcc4 Vis\xe3o de Produto","permalink":"/chatbot-contabilizei/docs/visao-produto"}}');var r=s(4848),t=s(8453);const i={},d="\ud83d\udd12 Seguran\xe7a e Testes",o={},l=[{value:"\ud83d\udccb Seguran\xe7a Implementada",id:"-seguran\xe7a-implementada",level:2},{value:"<strong>Camadas de Prote\xe7\xe3o</strong>",id:"camadas-de-prote\xe7\xe3o",level:3},{value:"\u2699\ufe0f Configura\xe7\xe3o",id:"\ufe0f-configura\xe7\xe3o",level:2},{value:"<strong>Vari\xe1veis de Ambiente (.env)</strong>",id:"vari\xe1veis-de-ambiente-env",level:3},{value:"<strong>API Keys Padr\xe3o</strong>",id:"api-keys-padr\xe3o",level:3},{value:"\ud83d\udd10 Como Usar",id:"-como-usar",level:2},{value:"<strong>Request com Autentica\xe7\xe3o</strong>",id:"request-com-autentica\xe7\xe3o",level:3},{value:"<strong>Respostas de Seguran\xe7a</strong>",id:"respostas-de-seguran\xe7a",level:3},{value:"\ud83e\uddea Testes",id:"-testes",level:2},{value:"<strong>1. Health Check (sempre p\xfablico)</strong>",id:"1-health-check-sempre-p\xfablico",level:3},{value:"<strong>2. Teste de Seguran\xe7a (sem API Key)</strong>",id:"2-teste-de-seguran\xe7a-sem-api-key",level:3},{value:"<strong>3. Teste de Seguran\xe7a (API Key inv\xe1lida)</strong>",id:"3-teste-de-seguran\xe7a-api-key-inv\xe1lida",level:3},{value:"<strong>4. Teste de Conversa\xe7\xe3o (com API Key v\xe1lida)</strong>",id:"4-teste-de-conversa\xe7\xe3o-com-api-key-v\xe1lida",level:3},{value:"<strong>5. Teste de Mem\xf3ria Conversacional</strong>",id:"5-teste-de-mem\xf3ria-conversacional",level:3},{value:"<strong>6. Teste de Captura de Lead</strong>",id:"6-teste-de-captura-de-lead",level:3},{value:"<strong>7. Teste de Valida\xe7\xe3o de Input</strong>",id:"7-teste-de-valida\xe7\xe3o-de-input",level:3},{value:"<strong>8. Teste de Rate Limiting</strong>",id:"8-teste-de-rate-limiting",level:3},{value:"\ud83d\udcca Resultados Esperados",id:"-resultados-esperados",level:2},{value:"\ud83d\ude80 Status do Sistema",id:"-status-do-sistema",level:2},{value:"<strong>Funcionalidades Ativas</strong>",id:"funcionalidades-ativas",level:3},{value:"\ud83d\udcdd Pr\xf3ximos Passos",id:"-pr\xf3ximos-passos",level:2},{value:"\ud83d\udd0d Monitoramento",id:"-monitoramento",level:2},{value:"<strong>Logs Importantes</strong>",id:"logs-importantes",level:3},{value:"<strong>Alertas Recomendados</strong>",id:"alertas-recomendados",level:3}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"-seguran\xe7a-e-testes",children:"\ud83d\udd12 Seguran\xe7a e Testes"})}),"\n",(0,r.jsx)(n.h2,{id:"-seguran\xe7a-implementada",children:"\ud83d\udccb Seguran\xe7a Implementada"}),"\n",(0,r.jsx)(n.h3,{id:"camadas-de-prote\xe7\xe3o",children:(0,r.jsx)(n.strong,{children:"Camadas de Prote\xe7\xe3o"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"API Key Authentication"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Header obrigat\xf3rio: ",(0,r.jsx)(n.code,{children:"X-API-Key"})]}),"\n",(0,r.jsxs)(n.li,{children:["Middleware valida em todos endpoints (exceto ",(0,r.jsx)(n.code,{children:"/health"}),", ",(0,r.jsx)(n.code,{children:"/docs"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Retorna 401 sem key, 403 com key inv\xe1lida"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"CORS (Cross-Origin Resource Sharing)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Origens permitidas configur\xe1veis via ",(0,r.jsx)(n.code,{children:".env"})]}),"\n",(0,r.jsx)(n.li,{children:"Protege contra requests de dom\xednios n\xe3o autorizados"}),"\n",(0,r.jsx)(n.li,{children:"Configurado para backends espec\xedficos"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Rate Limiting"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Limite: ",(0,r.jsx)(n.strong,{children:"50 requisi\xe7\xf5es/minuto por IP"})]}),"\n",(0,r.jsx)(n.li,{children:"Protege contra DDoS e abuso"}),"\n",(0,r.jsx)(n.li,{children:"Retorna 429 quando limite excedido"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Valida\xe7\xf5es de Input"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Mensagem n\xe3o pode estar vazia"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"conversation_id"})," obrigat\xf3rio"]}),"\n",(0,r.jsx)(n.li,{children:"Tamanho m\xe1ximo de mensagem: 10.000 caracteres"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-configura\xe7\xe3o",children:"\u2699\ufe0f Configura\xe7\xe3o"}),"\n",(0,r.jsx)(n.h3,{id:"vari\xe1veis-de-ambiente-env",children:(0,r.jsx)(n.strong,{children:"Vari\xe1veis de Ambiente (.env)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"# API Keys (para backends autorizados)\nAPI_KEY_BACKEND=sua-chave-producao-aqui\nAPI_KEY_DEV=dev-key-local-11111\n\n# CORS (origens permitidas)\nALLOWED_ORIGIN_1=http://localhost:3000\nALLOWED_ORIGIN_2=https://seu-backend-producao.com\n\n# Rate Limiting\nRATE_LIMIT=50/minute\n"})}),"\n",(0,r.jsx)(n.h3,{id:"api-keys-padr\xe3o",children:(0,r.jsx)(n.strong,{children:"API Keys Padr\xe3o"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key Name"}),(0,r.jsx)(n.th,{children:"Value"}),(0,r.jsx)(n.th,{children:"Uso"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dev"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dev-key-local-11111"})}),(0,r.jsx)(n.td,{children:"Desenvolvimento/Testes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dev-backend-key-12345"})}),(0,r.jsx)(n.td,{children:"Produ\xe7\xe3o (backend)"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-como-usar",children:"\ud83d\udd10 Como Usar"}),"\n",(0,r.jsx)(n.h3,{id:"request-com-autentica\xe7\xe3o",children:(0,r.jsx)(n.strong,{children:"Request com Autentica\xe7\xe3o"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://sua-api.run.app/chat \\\n  -H "X-API-Key: dev-key-local-11111" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "message": "Preciso de ajuda",\n    "conversation_id": "conv_123",\n    "user_id": "user_456"\n  }\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"respostas-de-seguran\xe7a",children:(0,r.jsx)(n.strong,{children:"Respostas de Seguran\xe7a"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Sem API Key\n401 Unauthorized\n{"error":"unauthorized","message":"API Key is required. Include X-API-Key header."}\n\n# API Key Inv\xe1lida\n403 Forbidden\n{"error":"forbidden","message":"Invalid API Key"}\n\n# Rate Limit Excedido\n429 Too Many Requests\n{"error":"Rate limit exceeded: 50 per 1 minute"}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-testes",children:"\ud83e\uddea Testes"}),"\n",(0,r.jsx)(n.h3,{id:"1-health-check-sempre-p\xfablico",children:(0,r.jsx)(n.strong,{children:"1. Health Check (sempre p\xfablico)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/health\n\n# Resposta esperada:\n{\n  "status": "healthy",\n  "message": "API funcionando corretamente"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-teste-de-seguran\xe7a-sem-api-key",children:(0,r.jsx)(n.strong,{children:"2. Teste de Seguran\xe7a (sem API Key)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat \\\n  -H "Content-Type: application/json" \\\n  -d \'{"message":"teste","conversation_id":"123"}\'\n\n# Deve retornar: 401 Unauthorized\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-teste-de-seguran\xe7a-api-key-inv\xe1lida",children:(0,r.jsx)(n.strong,{children:"3. Teste de Seguran\xe7a (API Key inv\xe1lida)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat \\\n  -H "X-API-Key: chave-invalida-123" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"message":"teste","conversation_id":"123"}\'\n\n# Deve retornar: 403 Forbidden\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-teste-de-conversa\xe7\xe3o-com-api-key-v\xe1lida",children:(0,r.jsx)(n.strong,{children:"4. Teste de Conversa\xe7\xe3o (com API Key v\xe1lida)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat \\\n  -H "X-API-Key: dev-key-local-11111" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "message": "Preciso de ajuda com MEI",\n    "conversation_id": "test_conversation_001"\n  }\'\n\n# Deve retornar: 200 OK com SSE streaming\n# event: start\n# event: delta\n# event: done\n'})}),"\n",(0,r.jsx)(n.h3,{id:"5-teste-de-mem\xf3ria-conversacional",children:(0,r.jsx)(n.strong,{children:"5. Teste de Mem\xf3ria Conversacional"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Mensagem 1: Apresenta\xe7\xe3o\ncurl -H "X-API-Key: dev-key-local-11111" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"message":"Meu nome \xe9 Jo\xe3o e tenho uma padaria","conversation_id":"test_memory"}\' \\\n  https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat\n\n# Mensagem 2: Teste de mem\xf3ria (deve lembrar o nome)\ncurl -H "X-API-Key: dev-key-local-11111" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"message":"Qual \xe9 meu nome?","conversation_id":"test_memory"}\' \\\n  https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat\n\n# Deve responder: "Seu nome \xe9 Jo\xe3o"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"6-teste-de-captura-de-lead",children:(0,r.jsx)(n.strong,{children:"6. Teste de Captura de Lead"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -H "X-API-Key: dev-key-local-11111" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "message": "Meu nome \xe9 Maria Silva, email maria@empresa.com, telefone (11) 99999-8888, tenho uma loja de roupas",\n    "conversation_id": "test_lead_capture",\n    "user_id": "user_maria"\n  }\' \\\n  https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat\n\n# Lead ser\xe1 salvo em background no Firestore\n'})}),"\n",(0,r.jsx)(n.h3,{id:"7-teste-de-valida\xe7\xe3o-de-input",children:(0,r.jsx)(n.strong,{children:"7. Teste de Valida\xe7\xe3o de Input"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Mensagem vazia (deve dar erro)\ncurl -H "X-API-Key: dev-key-local-11111" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"message":"","conversation_id":"test"}\' \\\n  https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat\n\n# Deve retornar: 400 Bad Request\n# {"detail":"Mensagem n\xe3o pode estar vazia"}\n\n# Sem conversation_id (deve dar erro)\ncurl -H "X-API-Key: dev-key-local-11111" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"message":"teste"}\' \\\n  https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/chat\n\n# Deve retornar: 400 Bad Request\n# {"detail":[{"type":"missing","loc":["body","conversation_id"],...}]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"8-teste-de-rate-limiting",children:(0,r.jsx)(n.strong,{children:"8. Teste de Rate Limiting"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Fazer m\xfaltiplas requests r\xe1pidas\nfor i in {1..60}; do\n  curl -s -o /dev/null -w "Request $i: %{http_code}\\n" \\\n    -H "X-API-Key: dev-key-local-11111" \\\n    https://agente-contabil-00001-b2d-55837972640.us-central1.run.app/conversations/test_$i\n  sleep 0.5\ndone\n\n# Ap\xf3s ~50 requests/min: deve retornar 429 Too Many Requests\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-resultados-esperados",children:"\ud83d\udcca Resultados Esperados"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Teste"}),(0,r.jsx)(n.th,{children:"Status Esperado"}),(0,r.jsx)(n.th,{children:"Resposta"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Health check"}),(0,r.jsx)(n.td,{children:"200 OK"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{"status":"healthy"}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Chat sem API Key"}),(0,r.jsx)(n.td,{children:"401"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{"error":"unauthorized"}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Chat API Key inv\xe1lida"}),(0,r.jsx)(n.td,{children:"403"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{"error":"forbidden"}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Chat API Key v\xe1lida"}),(0,r.jsx)(n.td,{children:"200"}),(0,r.jsx)(n.td,{children:"SSE streaming"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mensagem vazia"}),(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{"detail":"Mensagem n\xe3o pode estar vazia"}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Sem conversation_id"}),(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:"Field required error"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:">50 req/min"}),(0,r.jsx)(n.td,{children:"429"}),(0,r.jsx)(n.td,{children:"Rate limit exceeded"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-status-do-sistema",children:"\ud83d\ude80 Status do Sistema"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"URL Produ\xe7\xe3o:"})," ",(0,r.jsx)(n.a,{href:"https://agente-contabil-00001-b2d-55837972640.us-central1.run.app",children:"https://agente-contabil-00001-b2d-55837972640.us-central1.run.app"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Deployment:"})," agente-contabil-00001-b2d-00003-7zh",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Status:"})," \u2705 Operacional",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Uptime:"})," Min-instances=1 (sem cold start)"]}),"\n",(0,r.jsx)(n.h3,{id:"funcionalidades-ativas",children:(0,r.jsx)(n.strong,{children:"Funcionalidades Ativas"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 API Key Authentication"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 CORS configurado"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Rate Limiting (50/min)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 SSE Streaming"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Mem\xf3ria conversacional"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Captura de leads async"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Valida\xe7\xf5es de input"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Logging estruturado"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-pr\xf3ximos-passos",children:"\ud83d\udcdd Pr\xf3ximos Passos"}),"\n",(0,r.jsx)(n.p,{children:"Quando criar o backend intermedi\xe1rio:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configurar API Key de produ\xe7\xe3o"})," no ",(0,r.jsx)(n.code,{children:".env"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Adicionar origem do backend"})," no CORS"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backend incluir header"})," ",(0,r.jsx)(n.code,{children:"X-API-Key"})," em todas requests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testar integra\xe7\xe3o completa"})," backend \u2192 API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitorar logs"})," para requests n\xe3o autorizadas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ajustar rate limit"})," conforme necessidade"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-monitoramento",children:"\ud83d\udd0d Monitoramento"}),"\n",(0,r.jsx)(n.h3,{id:"logs-importantes",children:(0,r.jsx)(n.strong,{children:"Logs Importantes"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Ver logs no Cloud Run\ngcloud run logs read agente-contabil-00001-b2d --region=us-central1 --limit=50\n\n# Logs de seguran\xe7a\n"Request without API key: /chat from 203.0.113.1"\n"Invalid API key: abc12345... from 203.0.113.1"\n"Authenticated request with key: dev to /chat"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"alertas-recomendados",children:(0,r.jsx)(n.strong,{children:"Alertas Recomendados"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ud83d\udea8 M\xfaltiplas tentativas com API Key inv\xe1lida (poss\xedvel ataque)"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udea8 Rate limit atingido frequentemente (ajustar limite)"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcca Uso por API Key (monitorar billing)"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var a=s(6540);const r={},t=a.createContext(r);function i(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);