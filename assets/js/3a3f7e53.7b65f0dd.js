"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[188],{8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>d});var t=n(6540);const i={},o=t.createContext(i);function a(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(o.Provider,{value:s},e.children)}},8527:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"desenvolvimento","title":"\ud83d\udcbb Desenvolvimento","description":"\ud83d\uddd3 Informa\xe7\xf5es Gerais","source":"@site/docs/desenvolvimento.md","sourceDirName":".","slug":"/desenvolvimento","permalink":"/chatbot-contabilizei/docs/desenvolvimento","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"\u2699\ufe0f Tecnologias","permalink":"/chatbot-contabilizei/docs/tecnologias"},"next":{"title":"Guia de Verifica\xe7\xe3o \u2014 API de Conhecimento RAG + Sistema de Testes","permalink":"/chatbot-contabilizei/docs/Documenta\xe7\xf5es de Desenvolvimento/Guia_teste_pipeline_documentos"}}');var i=n(4848),o=n(8453);const a={sidebar_position:4},d="\ud83d\udcbb Desenvolvimento",r={},l=[{value:"\ud83d\uddd3 Informa\xe7\xf5es Gerais",id:"-informa\xe7\xf5es-gerais",level:2},{value:"\u2705 Checklist de Entrada",id:"-checklist-de-entrada",level:2},{value:"\ud83d\udce4 Checklist de Sa\xedda",id:"-checklist-de-sa\xedda",level:2},{value:"\ud83d\udee0 Tecnologias Utilizadas",id:"-tecnologias-utilizadas",level:2},{value:"\ud83d\udcb8 Custos de Manuten\xe7\xe3o",id:"-custos-de-manuten\xe7\xe3o",level:2},{value:"\ud83e\uddf1 Infraestrutura de Dados",id:"-infraestrutura-de-dados",level:2},{value:"\ud83d\udd17 Modelo L\xf3gico do Banco de Dados",id:"-modelo-l\xf3gico-do-banco-de-dados",level:3},{value:"Contratos de Dados (Exemplos)",id:"contratos-de-dados-exemplos",level:4},{value:"\ud83d\udcda Documenta\xe7\xe3o Relacionada",id:"-documenta\xe7\xe3o-relacionada",level:2}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"-desenvolvimento",children:"\ud83d\udcbb Desenvolvimento"})}),"\n",(0,i.jsx)(s.h2,{id:"-informa\xe7\xf5es-gerais",children:"\ud83d\uddd3 Informa\xe7\xf5es Gerais"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nome do Projeto:"})," Agente de IA Especializado em Contabilidade"]}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Scrum Master Respons\xe1vel:"})," Sophia Senne"]}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Equipe de Desenvolvimento:"})," Daniel Gon\xe7alves e Pedro Rodrigues"]}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Data de Entrada na \xc1rea:"})}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Data Estimada de Conclus\xe3o da \xc1rea:"})}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-checklist-de-entrada",children:"\u2705 Checklist de Entrada"}),"\n",(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Documento de Vis\xe3o de Produto revisado e compreendido"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Tecnologias e requisitos funcionais claramente definidos"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","User Stories priorizadas e estimadas"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Capacidade t\xe9cnica e de tempo confirmada"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Entendimento dos custos de manuten\xe7\xe3o"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-checklist-de-sa\xedda",children:"\ud83d\udce4 Checklist de Sa\xedda"}),"\n",(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Funcionalidades desenvolvidas conforme requisitos"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Deploy realizado (ou instru\xe7\xf5es de deploy definidas)"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Documenta\xe7\xe3o t\xe9cnica entregue (API, banco, estrutura de dados, etc.)"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Entrega validada com PO"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-tecnologias-utilizadas",children:"\ud83d\udee0 Tecnologias Utilizadas"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Google Cloud Run"}),": Servi\xe7os principais (agente-contabil e RAG API). Executam cont\xeaineres Docker de forma serverless, escalando automaticamente conforme a demanda."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Cloud Run Admin API / gcloud run"}),": Gerencia o ciclo de vida dos servi\xe7os: deploy, atualiza\xe7\xf5es, configura\xe7\xe3o de recursos (mem\xf3ria, CPU, timeout) e dele\xe7\xe3o."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Cloud Firestore"}),": Dois usos distintos:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Banco padr\xe3o (agente-contabil):"})," collections ",(0,i.jsx)(s.code,{children:"conversations"}),", ",(0,i.jsx)(s.code,{children:"leads"}),", ",(0,i.jsx)(s.code,{children:"rag_cache"})," \u2014 hist\xf3rico de conversas, potenciais leads e cache de respostas RAG."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"rag-db-v1 (RAG API):"})," collection ",(0,i.jsx)(s.code,{children:"knowledge_base"})," \u2014 conte\xfado textual e metadados indexados para busca vetorial."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Vertex AI Vector Search"}),": Busca por similaridade vetorial (embeddings ",(0,i.jsx)(s.code,{children:"text-embedding-3-small"}),"), com filtros por categoria e tags."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"OpenAI API"}),": ChatOpenAI (gpt-4o-mini) para orquestra\xe7\xe3o do agente; text-embedding-3-small para embeddings. Infer\xeancia de metadados na RAG API via gpt-4o-mini."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Google Auth (OIDC)"}),": Token de identidade para autentica\xe7\xe3o entre agente-contabil e RAG API."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Cloud Storage"}),": Staging de arquivos Markdown normalizados no pipeline Batch ETL, para auditoria e reprocessamento."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Cloud Build API"}),": Automatiza o build das imagens Docker."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-custos-de-manuten\xe7\xe3o",children:"\ud83d\udcb8 Custos de Manuten\xe7\xe3o"}),"\n",(0,i.jsx)("div",{align:"center",children:(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Servi\xe7o"}),(0,i.jsx)(s.th,{children:"Valor Mensal Estimado"}),(0,i.jsx)(s.th,{children:"Observa\xe7\xf5es"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Cloud Run (agente-contabil)"}),(0,i.jsx)(s.td,{children:"Vari\xe1vel"}),(0,i.jsx)(s.td,{children:"Cobran\xe7a por uso (requests, vCPU/seg, mem\xf3ria). Tier gratuito at\xe9 ~2M requests"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Cloud Run (RAG API)"}),(0,i.jsx)(s.td,{children:"Vari\xe1vel"}),(0,i.jsx)(s.td,{children:"Idem. Custos maiores em ingest\xe3o cont\xednua"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Firestore"}),(0,i.jsx)(s.td,{children:"Vari\xe1vel"}),(0,i.jsx)(s.td,{children:"Leitura/escrita/armazenamento. Tier gratuito generoso"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Vertex AI Vector Search"}),(0,i.jsx)(s.td,{children:"Vari\xe1vel"}),(0,i.jsx)(s.td,{children:"Indexa\xe7\xe3o e queries. Depende do tamanho do \xedndice e volume de buscas"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"OpenAI API"}),(0,i.jsx)(s.td,{children:"Vari\xe1vel"}),(0,i.jsx)(s.td,{children:"gpt-4o-mini (chat) + text-embedding-3-small. Proporcional a tokens"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Cloud Storage"}),(0,i.jsx)(s.td,{children:"Baixo"}),(0,i.jsx)(s.td,{children:"Staging de Markdown no ETL. Custos de storage geralmente baixos"})]})]})]})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Observa\xe7\xe3o:"})," O projeto utiliza ",(0,i.jsx)(s.strong,{children:"Google Cloud Platform"})," e ",(0,i.jsx)(s.strong,{children:"OpenAI"}),". Os custos s\xe3o majoritariamente vari\xe1veis e dependem de tr\xe1fego, volume de conversas e ingest\xe3o de conhecimento."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-infraestrutura-de-dados",children:"\ud83e\uddf1 Infraestrutura de Dados"}),"\n",(0,i.jsx)(s.h3,{id:"-modelo-l\xf3gico-do-banco-de-dados",children:"\ud83d\udd17 Modelo L\xf3gico do Banco de Dados"}),"\n",(0,i.jsxs)(s.p,{children:["O projeto utiliza ",(0,i.jsx)(s.strong,{children:"Firestore"})," em dois contextos:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Banco"}),(0,i.jsx)(s.th,{children:"Projeto GCP"}),(0,i.jsx)(s.th,{children:"Uso"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Default"})}),(0,i.jsx)(s.td,{children:"ctbz-ia-assessoria-poc"}),(0,i.jsx)(s.td,{children:"Agente: conversas, leads, cache RAG"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"rag-db-v1"})}),(0,i.jsx)(s.td,{children:"ctbz-ia-assessoria-poc"}),(0,i.jsx)(s.td,{children:"RAG: base de conhecimento (documentos, metadados)"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Collections (banco default):"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"conversations"})," \u2014 Hist\xf3rico de conversas (mensagens user/assistant)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"leads"})," \u2014 Potenciais leads qualificados durante o atendimento"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"rag_cache"})," \u2014 Cache de respostas RAG por hash da pergunta (TTL configur\xe1vel)"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Collection (rag-db-v1):"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"knowledge_base"})," \u2014 Documentos de conhecimento (",(0,i.jsx)(s.code,{children:"blog_section"}),", ",(0,i.jsx)(s.code,{children:"conversa"}),"), metadados e conte\xfado textual. Vetores ficam no Vertex AI Vector Search."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h4,{id:"contratos-de-dados-exemplos",children:"Contratos de Dados (Exemplos)"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Chat Request (agente-contabil):"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"# POST /chat\nclass ChatRequest(BaseModel):\n    message: str\n    conversation_id: str\n    user_id: Optional[str] = None\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["Documento de conversa (Firestore ",(0,i.jsx)(s.code,{children:"conversations"}),"):"]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'{\n    "conversation_id": str,\n    "messages": [\n        {"role": "user" | "assistant", "content": str, "timestamp": datetime}\n    ],\n    "user_id": Optional[str],\n    "created_at": datetime,\n    "updated_at": datetime\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["Documento de lead (Firestore ",(0,i.jsx)(s.code,{children:"leads"}),"):"]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'{\n    "conversation_id": str,\n    "assunto": str,\n    "tipo_pessoa": Optional[str],  # PF, MEI, ME, EPP, etc.\n    "segmento": Optional[str],\n    "nome": Optional[str],\n    "email": Optional[str],\n    "telefone": Optional[str],\n    "user_id": Optional[str],\n    "status": str,  # novo, contatado, qualificado, etc.\n    "created_at": datetime,\n    "updated_at": Optional[datetime]\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Chat Request / Response RAG API:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'# POST /chat (RAG API - apenas retrieval)\nclass ChatRequest(BaseModel):\n    pergunta: str\n    user_id: Optional[str] = "anonimo"\n    filtro_tipo: Optional[str] = None  # blog, conversa\n    plataforma: Optional[str] = "web"\n\nclass SourceDoc(BaseModel):\n    id: str\n    score: float\n    conteudo: str\n    titulo: str\n    url: Optional[str]\n    tipo: str  # blog | conversa\n\nclass ChatResponse(BaseModel):\n    fontes: List[SourceDoc]\n'})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Arquitetura de dados detalhada:"})," ",(0,i.jsx)(s.a,{href:"/chatbot-contabilizei/docs/Documenta%C3%A7%C3%B5es%20de%20Desenvolvimento/arquitetura_geral_detalhada",children:"Arquitetura Geral Detalhada"})," e documenta\xe7\xe3o do pipeline RAG em ",(0,i.jsx)(s.a,{href:"/chatbot-contabilizei/docs/Documenta%C3%A7%C3%B5es%20de%20Desenvolvimento/arquitetura_ELT_blog",children:"Arquitetura ETL Blog"})," / ",(0,i.jsx)(s.a,{href:"/chatbot-contabilizei/docs/Documenta%C3%A7%C3%B5es%20de%20Desenvolvimento/arquitetura_ELT_conversa",children:"Arquitetura ETL Conversas"}),"."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-documenta\xe7\xe3o-relacionada",children:"\ud83d\udcda Documenta\xe7\xe3o Relacionada"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/chatbot-contabilizei/docs/Documenta%C3%A7%C3%B5es%20de%20Desenvolvimento/deploy",children:"Deploy"})," \u2014 instru\xe7\xf5es de deploy do agente e RAG"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/chatbot-contabilizei/docs/Documenta%C3%A7%C3%B5es%20de%20Desenvolvimento/testes-e-seguranca",children:"Testes e Seguran\xe7a"})," \u2014 estrat\xe9gia de testes e requisitos de seguran\xe7a"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/chatbot-contabilizei/docs/tecnologias",children:"Tecnologias"})," \u2014 stack e arquitetura t\xe9cnica"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);